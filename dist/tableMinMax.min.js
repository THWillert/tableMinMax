// tableMinMax
// (c) 2020 Thorsten Willert
// https://github.com/THWillert/tableMinMax
// V1.43
// This code is licensed under MIT license
tableMinMax=function(a){let b=extend({table:"table",search:{mode:"all",nr:1},css:{mode:"style",max:"",min:""},text:{autocontrast:!0,standard:"readable",min:"#fff",max:"#000"},colorize:"span",mode:"single",invert:!1},a),c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=0,f=0,g=0,h=0,k=0,l=0,m=null,n=null,o=null,p=null;try{if(m=document.querySelector(b.table),null===m)return console.log("tableMinMax: table not found: "+b.table+"\nFunction call after table init? (e.g. end of body)"),[-1,-1];n=document.querySelector(b.table+" tbody"),l=n.rows.length}catch(a){return console.error(a),[-1,-1]}m.hasAttribute("data-search-mode")&&(b.search.mode=m.getAttribute("data-search-mode")),m.hasAttribute("data-search-nr")&&(b.search.nr=m.getAttribute("data-search-nr")),b.search.nr=Math.abs(b.search.nr-1),m.hasAttribute("data-autocontrast")&&(b.text.autocontrast="true"===m.getAttribute("data-autocontrast")),m.hasAttribute("data-css-min")&&(b.css.min=m.getAttribute("data-css-min")),b.css.min=b.css.min.trim().replace(/\s\s+/g," "),m.hasAttribute("data-css-max")&&(b.css.max=m.getAttribute("data-css-max")),b.css.max=b.css.max.trim().replace(/\s\s+/g," "),m.hasAttribute("data-colorize")&&(b.css.max=m.getAttribute("data-colorize"));let q;switch(b.search.mode.toString()){case"col":for(let a=0;a<l;a++)q=parseFloat(n.rows[a].cells[b.search.nr].innerText),q>d&&(d=q,f=a),q<c&&(c=q,e=a);o=n.rows[e].cells[b.search.nr],p=n.rows[f].cells[b.search.nr];break;case"row":k=n.rows[b.search.nr].cells.length;for(let a=0;a<k;a++)q=parseFloat(n.rows[b.search.nr].cells[a].innerText),q>d&&(d=q,f=a),q<c&&(c=q,e=a);o=n.rows[b.search.nr].cells[e],p=n.rows[b.search.nr].cells[f];break;default:for(let a=0;a<l;a++){k=n.rows[a].cells.length;for(let b=0;b<k;b++)q=parseFloat(n.rows[a].cells[b].innerText),q>d&&(d=q,f=a,h=b),q<c&&(c=q,e=a,g=b)}o=n.rows[e].cells[g],p=n.rows[f].cells[h];}!0===b.invert&&([o,p]=[p,o]),"span"===b.colorize?(o.innerHTML="<span class=\""+b.css.min+"\">"+o.innerHTML+"</span>",p.innerHTML="<span class=\""+b.css.max+"\">"+p.innerHTML+"</span>"):(o.className+=b.css.min,p.className+=b.css.max);try{let a;"function"==typeof color2k.hasBadContrast?(console.log("color2k loaded"),!0===b.text.autocontrast&&(a=window.getComputedStyle(document.querySelector(String2Classes(b.css.min))).getPropertyValue("background-color"),o.style.color=!1===color2k.hasBadContrast(a,b.text.standard)?"#fff":"#000",a=window.getComputedStyle(document.querySelector(String2Classes(b.css.max))).getPropertyValue("background-color"),p.style.color=!0===color2k.hasBadContrast(a,b.text.standard)?"#000":"#fff")):console.log("color2k not loaded")}catch(a){console.log(a)}return[c,d]};function extend(a,b){for(var c in a=a||{},b)a[c]="object"==typeof b[c]?extend(a[c],b[c]):b[c];return a}function String2Classes(a){const b=a.split(" ");return"."+b.join(".")}